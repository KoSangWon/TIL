# 제어문
- 제어문은 주어진 조건에 따라 코드 블록을 실행(조건문)하거나 반복 실행(반복문)할 때 사용한다. 즉, 제어문에는 조건문, 반복문이 있다.
- 일반적으로 코드는 위에서 아래로 실행되지만 제어문을 만나게 되면 코드의 흐름을 인위적으로 제어할 수 있다.
- 제어문은 코드의 흐름을 이해하기 어렵게 하여 가독성을 해치는 단점이 있다. 가독성이 좋지 않은 코드는 오류를 발생시키는 원인이 된다.
- 이후, forEach, map, filter, reduce 같은 고차 함수를 사용한 함수형 프로그래밍 기법에서는 제어문의 사용을 억제하여 복잡성을 해결하려고 노력한다.

## 1. 블록문
- 블록문(block statement / compound statement)는 0개 이상의 문을 중괄호로 묶은 것으로, 코드 블록 또는 블록이라고 부른다. 
- JS는 블록문을 하나의 실행 단위로 취급한다. 블록문은 단독으로 사용할 수도 있으나 일반적으로 제어문이나 함수를 정의할 때 사용하는 것이 일반적이다.
- 문의 끝에는 세미 콜론(;)을 붙이는 것이 일반적이지만 블록문은 언제나 문의 종료를 의미하는 **자체 종결성(self closing)** 을 갖기 때문에 블록문의 끝에는 세미콜론을 붙이지 않는다.
- 단독으로 사용하는 경우
```js
{
  var foo = 10;
}
```
- 제어문, 함수 정의 시 사용하는 경우
```js
// 제어문 
var x = 1;
if (x < 10) {
  x++;
}

// 함수 선언문
function sum(a, b) {
  return a + b;
}
```

## 2. 조건문
- 조건문(conditional statement)은 주어진 조건식(conditional expression)의 평가 결과에 따라 코드 블록(블록문)의 실행을 결정한다. 조건식은 불리언 값으로 평가될 수 있는 표현식이다.
- JS는 if...else문과 switch 문으로 두 가지 조건문을 제공한다.

### 2.1. if...else 문
- 조건식의 평가 결과(참, 거짓)에 따라 실행할 코드를 결정한다. 
- if 문의 조건식은 불리언 값으로 평가되어야 한다. 만약 if 문의 조건식이 불리언 값이 아닌 값으로 평가되면 JS 엔진에 의해 암묵적으로 불리언 값으로 강제 변환되어 실행할 코드 블록을 결정한다.
- 암묵적 타입 변환은 가급적 에러를 발생시키지 않도록 해준다. 문자열, 숫자, 불리언과 같은 원시 타입 중 하나로 타입을 자동 변환해준다.
- else if 문과 else 문은 옵션이다. 
- 만약 코드 블록 내의 문이 하나뿐이라면 중괄호를 생략할 수 있다.
```js
var num = 2;
var ans;
if num > 3  ans = 4;
else        ans = 1;
```

- 대부분의 if...else 문은 삼항 조건 연산자로 바꿔 쓸 수 있다. 
```js
var ans = num > 3 ? 4 : 1;
```

- 삼항 조건 연산자는 값으로 평가되는 표현식을 만든다. 따라서 **삼항 조건 연산자 표현식은 값처럼 사용할 수 있기 때문에 변수에 할당할 수 있다.**
- 하지만 if...else 문은 표현식이 아닌 문이다. 따라서 변수에 할당할 수 없다.
- 조건에 따라 단순히 값을 결정하는 것이면 삼항 조건 연산자가 더 가독성이 좋다. 하지만 조건에 따라 실행해야 하는 내용이 복잡하여 여러 줄의 문이 필요하면 if...else가 더 가독성이 좋다.


### 2.2. switch 문
- switch 문은 주어진 표현식을 평가하여 그 값과 일치하는 표현식을 갖는 case 문으로 실행 흐름을 옮긴다. 
- switch 문의 표현식과 일치하는 case 문이 없다면 실행 순서는 default 문으로 이동한다. default 는 선택사항이다.
```js
switch(표현식) {
  case 표현식1:
    ~~
    break;
  case 표현식2:
    ~~
    break;
  default:
    ~~
}
```

- if...else 문의 조건식은 불리언 값으로 평가되어야 하지만 switch 문의 표현식을 불리언 값보다는 문자열이나 숫자값인 경우가 많다. 
- **즉, if...else 문은 참, 거짓으로 실행할 코드 블록을 결정하고 switch 문은 참, 거짓보다는 다양한 상황(case)에 따라 실행할 코드 블록을 결정할 때 사용한다. **
- fall through(폴 스루): switch 문 내로 들어갔다가 탈출하지 않고 마지막 값이 할당된 것이다. break 문을 사용해서 코드 블록에서 탈출시켜줘야 한다.
- default 문에는 break을 생략하는 것이 일반적이다. default 문은 switch 문의 맨 마지막에 위치하기 때문에 break이 없어도 자동적으로 switch 문을 빠져나간다.
- fall through(폴 스루)를 이용하는 경우도 있는데 이때는 여러 개의 case 문을 하나의 조건으로 사용할 수 있다.
- 만약, if...else 문으로 조건문을 해결할 수 있다면 switch 문보다 if...else문을 사용하는 편이 좋다. 하지만 조건이 너무 많으면 switch를 사용하는 편이 더 가독성이 좋다.

## 3. 반복문
- 반복문(loop statement)은 조건식의 평가 결과가 참인 경우 코드 블록을 실행한다. 그 후 조건식을 다시 평가하여 여전히 참인 경우 코드 블록을 다시 실행한다. 조건식이 거짓일 때까지 반복된다.
- JS는 세 가지 반복문인 **for 문, while 문, do...while 문**을 제공한다.
- 반복문을 대체할 수 있는 기능으로는 forEach, for...in, for...of 등이 있다.

### 3.1. for 문
- **for 문은 조건식이 거짓으로 평가될 때까지 코드 블록을 반복 실행한다.**
```js
for(var i = 0; i < 2; i++) {
  console.log(i);
}
```
- for 문의 변수 선언문, 조건식, 증감식은 모두 옵션이므로 반드시 사용할 필요는 없다. 단, 어떤 식도 선언하지 않으면 무한루프가 된다.
```js
// 무한루프
for(;;) {...}
```
- for 문 내에 for 문을 중첩해 사용할 수 있다. 

### 3.2. while 문
- **while 문은 주어진 조건식의 평가 결과가 참이면 코드 블록을 계속해서 반복 실행한다.**
```js
var count = 0;
while(count < 3) {
  console.log(count);
  count += 1;
}
```
- for 문은 반복 횟수가 명확할 때 주로 사용하고 while 문은 반복 횟수가 불명확할 때 주로 사용한다.
- while 문은 조건문의 평가 결과가 거짓이 되면 코드 블록을 실행하지 않고 종료한다. 만약 조건식의 평가 결과가 불리언 값이 아니면 강제 변환하여 논리적 참, 거짓을 구별한다.
- 조건식의 평가 결과가 언제나 참이면 무한 루프가 된다.
```js
while(true){...}
```
- 무한 루프에서 탈출하기 위해서는 if 문으로 탈출 조건을 만들고 break 문으로 코드 블록을 탈출한다.


### 3.3. do while 문
- do...while 문은 코드 블록을 먼저 실행하고 조건식을 평가한다. 따라서 코드 블록은 무조건 한 번 이상 실행된다.
```js
var count = 0;
do {
  console.log(count);
  count++;
} while (count < 3);
```

## 4. break 문
- break 문은 레이블 문, 반복문(for, for..in, for..of, while, do..while) 또는 switch 문의 코드 블록을 탈출한다. 레이블 문, 반복문, switch 문의 코드 블록 외에 break 문을 사용하면 SyntaxError(문법 에러)가 발생한다.
- 레이블 문(label statement)이란 식별자가 붙은 문을 말한다.
```js
// foo 라는 레이블 식별자가 붙은 레이블 문
foo: console.log('foo');
```
- 레이블 문은 프로그램의 실행 순서를 제어하는데 사용한다. 사실 switch 문의 case 문과 default 문도 레이블 문이다. 레이블 문을 탈출하려면 break 문에 레이블 식별자를 지정한다.(case 문과 default 문도 레이블 문인데 왜 여기는 break 문에 레이블 식별자를 지정하지 않을까?)
```js
// foo라는 식별자가 붙은 레이블 블록문
foo: {
  console.log(1);
  break foo; // foo 레이블 블록문을 탈출한다.
  console.log(2);
}
```
- 레이블 문은 중첩된 for 문 외부로 탈출할 때 유용하지만 그 밖의 경우에는 권장하지 않는다. 흐름이 복잡해지고 가독성이 나빠지며 오류 가능성이 높아진다.
- break 문은 레이블 문 뿐 아니라 반복문, switch 문에서도 사용할 수 있다. 이 경우에는 break문에 식별자를 지정하지 않는다. (왜?)

## 5. continue 문
- continue 문은 반복문의 코드 블록 실행을 현 시점에서 중단하고 반복문의 증감식으로 실행 흐름을 이동시킨다. break 문처럼 반복문을 탈출하지는 않는다.
- 반복문 내에서 continue 문을 사용하지 않으면 조건이 필요할 때 if 문 내에 코드를 작성해야 하지만 continue 문을 사용하면 if 문 밖에 코드를 작성할 수 있다.
